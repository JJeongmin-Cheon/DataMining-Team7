# 📊 Team 7 - 데이터마이닝 프로젝트

## 🎯 프로젝트 개요
데이터마이닝 방법론을 활용하여 현실 문제를 해결하고 개선하는 것을 목표로 합니다.

## 👥 팀 구성
**Team 7**
- 팀원 1: 천정민 21101981
- 팀원 2: 전시현 21101974
- 팀원 3: 송유진 23101924
- 팀원 4: 주홍석 23100011

## 🔍 프로젝트 주제
**서울시 공공데이터 기반 생활인구 예측**


🎯 프로젝트 개요
서울시 공공데이터를 활용한 생활인구 예측 모델 구축

서울시의 특정 지역은 공휴일, 축제, 날씨 등 외부 요인에 따라 인구 밀집 현상이 반복적으로 발생합니다. 이러한 변화는 교통 혼잡, 상권 과밀, 안전 문제 등 다양한 사회적 이슈로 이어질 수 있습니다.

본 프로젝트는 서울시 공공데이터를 기반으로 주요 16개 행정동의 일일 생활인구를 정량적으로 예측하는 머신러닝 모델을 개발하였습니다.
날씨, 공휴일, 문화행사 등 다양한 외부 요인을 통합하여, 지역별 혼잡 가능성을 사전에 파악할 수 있는 기반을 마련하고자 했습니다.

🎯 분석 목적
서울시 16개 주요 행정동의 일일 생활인구를 예측하여 혼잡 가능성 사전 파악

기상, 공휴일, 문화행사 등의 외부 요인이 생활인구에 미치는 영향 정량화

지역별 생활인구 패턴을 반영한 모델을 통해 행정, 정책, 상권 운영에 실질적 활용 가능성 제시

단순 예측을 넘어 정책 해석력과 실무 응용성을 고려한 데이터 기반 접근 시도



## 📁 데이터 구성

| 데이터 종류 | 주요 변수 | 출처 |
|-------------|-----------|------|
| 생활인구 | TOT_LVPOP_CO | 서울 열린데이터광장 |
| 기상 정보 | 평균기온, 강수량, 풍속, 습도 등 | 기상청 |
| 공휴일 | is_holiday (이진 변수) | 공공데이터포털 |
| 문화행사 | 행사 수, 유무료 여부 | 서울 열린데이터광장 |
| 분석 지역 | 서울시 주요 16개 행정동 | - |
| 분석 기간 | 2024.05.01 ~ 2025.04.30 (1년) | - |

## ⚙️ 분석 방법론

본 프로젝트는 공공데이터 기반으로 서울시 주요 행정동의 생활인구를 예측하기 위해  
다양한 외부 요인을 병합하고 회귀 기반 머신러닝 모델을 적용하는 방식으로 진행되었습니다.

---

### 🔗 데이터 병합 기준 및 방식

- 모든 데이터는 `기준일(STDR_DE_ID)`과 `행정동 코드(ADSTRD_CODE_SE)`를 기준으로 병합하였습니다.

| 데이터 | 기준 | 병합 방식 |
|--------|------|-----------|
| 생활인구 | 기준일, 행정동 | 예측 대상 기준 데이터 |
| 기상 데이터 | 기준일 | 서울시 평균 기상값 일괄 병합 |
| 공휴일 정보 | 기준일 | 공공 API 기반, 주말 포함 처리 |
| 문화행사 | 위도/경도 → 행정동 | Kakao API로 reverse geocoding 수행 |
| 지하철 승하차 | 기준일, 행정동 수작업 매핑 | 병합했으나 예측에는 사용하지 않음

> 최종 병합 결과는 `merged_final.csv`로 저장되어 모델 학습에 활용되었습니다.

---

### 🧹 데이터 전처리

- 날짜에서 **월(month)** 정보 추출 → 계절성 반영
- `is_holiday`: 공휴일 여부 + 주말 포함
- `event_type`: 문화행사 유무료 여부 → 3단계 구분 (0: 없음, 1: 유료, 2: 무료)
- `has_culture_event`: 문화행사 유무 (0/1)
- 결측치 처리:
  - `precipitation`, `sunshine_hours` → 결측값 0으로 대체
- 불필요한 변수 제거:
  - `subway_inflow`, `subway_outflow`, `유무료`, `분류` 등
- `TOT_LVPOP_CO` (생활인구)는 모델 구조에 따라 **전체 기준 또는 행정동 기준으로 정규화**

---

### 🧠 모델링 알고리즘

- `Random Forest Regressor`
  - 사이킷런 기반 앙상블 회귀 모델
  - `GridSearchCV`를 사용해 하이퍼파라미터 최적화 수행
  - 특히 **행정동별 모델 구성 시** 각 동에 대해 개별 최적화 적용

- `XGBoost Regressor`
  - 부스팅 기반 회귀 모델
  - 본 프로젝트에서는 기본 설정 또는 수동 튜닝을 사용
  - `GridSearchCV`는 미사용

---

### 🧩 모델 구성 방식 (3가지 전략 비교)

1. **행정동별 개별 모델**
   - 각 행정동에 대해 별도 모델 학습
   - 해석력은 높지만 확장성 낮음

2. **전체 통합 모델 (전체 기준 정규화)**
   - 모든 데이터를 하나의 모델로 학습
   - `TOT_LVPOP_CO`를 전체 기준으로 정규화
   - 평균값 중심 수렴으로 해석력 저하

3. **전체 통합 모델 (행정동별 정규화)**
   - 전체 데이터를 통합하되, 각 동의 평균 기준으로 target 정규화
   - 예측 성능과 해석력의 균형이 가장 뛰어남
   - 최종 제출 모델로 선정됨

---

### 📏 성능 평가 지표

- **RMSE** (Root Mean Squared Error): 예측 오차의 크기
- **R²** (결정계수): 모델 설명력

> 모델 구조별 성능 비교 결과는 `team7_update.ipynb` 및 `results/` 폴더에서 확인할 수 있습니다.


## 📈 주요 결과 요약

### 행정동별 개별 모델
- **해당 지역의 특성을 반영**할 수 있어 해석력이 뛰어남
- `GridSearchCV`를 통해 각 동별 최적 파라미터 적용
- 성능 분포가 다양하며 **혼잡도가 높은 지역일수록 예측이 어려운 경향** 존재

### 전체 통합 모델 (전체 기준 정규화)
- 모든 지역을 하나의 모델로 학습
- **RMSE는 낮았지만**, 예측값이 평균값 근처에 수렴하는 현상 → **실제 지역 간 차이를 잘 반영하지 못함**

### 전체 통합 모델 (행정동별 정규화)
- **정규화 기준을 행정동별 평균으로 조정**하여 각 지역 특성을 보존
- **예측력과 해석력의 균형**을 가장 잘 달성함
- 최종적으로 가장 성능이 안정적인 모델로 선택

---

## 💡 분석 인사이트

- **문화행사 변수(event_type, has_culture_event)는 예측 성능 향상에 기여**  
  → 특히 주말 또는 공휴일에 개최되는 무료 행사는 생활인구 급증과 연관성 높음

- **기상 변수(일조량, 강수량)는 간접 영향 요인**  
  → 단일 변수로는 예측력이 높지 않지만, 다변량 조합 내에서 의미 있는 역할 수행

- **지하철 승하차 정보는 실시간 활용이 어려워 제외**  
  → 미래 예측 모델에서는 **사후적 변수 제거**가 타당하다는 점 확인

- **행정동별 예측은 반드시 지역 특성을 반영해야 함**  
  → 통합 모델일수록 해석력 손실 가능성이 큼

---

## 🏛️ 기대 효과 및 활용 방안

- **행정동 단위 유동인구 예측 모델**은 다음과 같은 분야에 활용 가능:
  - 도시 계획 및 인프라 배분
  - 공공시설(화장실, 무더위 쉼터 등) 수요 예측
  - 문화행사 또는 상권 마케팅 전략 수립
  - 축제 시기/위치 선정 시 데이터 기반 의사결정

- **공공데이터 기반 예측모델링 사례로서 재현성과 확장성 확보**
  - 추가 변수(소셜 미디어, 날씨 예보, 실시간 교통 등) 결합을 통해 고도화 가능

> 이번 분석은 단순한 수치 예측을 넘어 **지역성, 정책 활용성, 모델 해석력**까지 고려한 종합적인 분석을 지향하였습니다.

## 🛠️ 기술 스택
- **언어**: Python
- **라이브러리**: pandas, numpy, scikit-learn, matplotlib, seaborn
- **환경**: Jupyter Notebook

## 📁 파일 구조
├── data/ # 데이터 파일
├── notebooks/ # 분석 노트북
├── src/ # 소스 코드
├── results/ # 결과 파일
├── presentation/ # 발표 자료
└── README.md

## 🚀 실행 방법

### 환경 설정
필요한 라이브러리 설치
pip install -r requirements.txt

### 코드 실행
주요 분석 노트북 실행
jupyter notebook notebooks/main_analysis.ipynb

## 📊 주요 결과
- [주요 발견사항 1]
- [주요 발견사항 2]
- [실무 적용 방안]

## 🔗 참고 자료
- [데이터 출처 링크]
- [관련 논문/자료]

## 📞 연락처
프로젝트 관련 문의사항이 있으시면 팀장 [이름]에게 연락해주세요.

---
*본 프로젝트는 [과목명] 수업의 일환으로 진행되었습니다.*
