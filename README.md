# 📊 Team 7 - 데이터마이닝 프로젝트

## 👥 팀 구성
**Team 7**
- 팀원 1: 천정민 21101981
- 팀원 2: 전시현 21101974
- 팀원 3: 송유진 23101924
- 팀원 4: 주홍석 23100011

## 🔍 프로젝트 주제
**서울시 공공데이터 기반 생활인구 예측**


## 📌 프로젝트 개요

### 🎯 분석 목적

본 프로젝트는 단순히 "공휴일이나 축제가 있으면 생활인구가 증가한다"는 상식적인 사실을 검증하는 데 그치지 않고, **그 증가량을 데이터 기반으로 정량적으로 예측**하는 데 목적을 둡니다.

이를 통해 특정 시점의 생활인구를 사전 예측하고, 향후 도시계획, 자원 배분, 행사 운영 등 다양한 정책적·실무적 의사결정에 활용할 수 있는 기반을 마련하고자 했습니다.

---

## ⚙️ 분석 방법론

### 🔗 데이터 병합 기준 및 방식

- 모든 데이터는 `기준일(STDR_DE_ID)`과 `행정동 코드(ADSTRD_CODE_SE)`를 기준으로 병합하였습니다.

| 데이터         | 기준           | 병합 방식                                   |
|----------------|----------------|---------------------------------------------|
| 생활인구        | 기준일, 행정동  | 기준 데이터 (예측 대상)                     |
| 기상 데이터     | 기준일         | 서울시 평균 기상값 일괄 병합                 |
| 공휴일 정보     | 기준일         | 공공 API 기반, 주말 포함 처리              |
| 문화행사        | 위도/경도 기반  | Kakao API 활용 reverse geocoding 수행       |
| 지하철 승하차    | 기준일, 행정동  | 수작업 매핑하여 병합했으나 예측에서는 제외   |

> 최종 병합 결과는 `dataset_with_subway.csv`로 저장되어 모델 학습에 활용됨

---

### 🧹 데이터 전처리

- `month`: 날짜로부터 월 정보 추출 (계절성 반영)
- `is_holiday`: 주말 포함 공휴일 여부 이진 처리
- `event_type`: 문화행사 유무료 여부 → 0(없음), 1(유료), 2(무료)
- `has_culture_event`: 문화행사 유무 이진화 (0/1)
- `precipitation`, `sunshine_hours`: 결측치 → 0으로 대체
- 예측에 부적합한 변수 제거: `subway_inflow`, `subway_outflow`, `유무료`, `분류`
- `TOT_LVPOP_CO`: 전체 기준 또는 행정동 기준으로 정규화

---

## 🧠 모델링 알고리즘 및 구성 방식

### 💡 사용 알고리즘

- `Random Forest Regressor`  
  - 사이킷런 기반 앙상블 회귀 모델  
  - `GridSearchCV`를 통해 하이퍼파라미터 튜닝  
  - **행정동별 모델**에서 개별 최적화 수행

- `XGBoost Regressor`  
  - 부스팅 기반 회귀 알고리즘  
  - 기본 설정 또는 수동 설정 사용  
  - `GridSearchCV`는 미적용

---

### 🧩 모델 구성 전략 (3가지 비교)

1. **행정동별 개별 모델**
   - 각 행정동마다 별도 모델 학습
   - 해석력 높으나 확장성 낮고 관리 복잡

2. **전체 통합 모델 (전체 기준 정규화)**
   - 전체 데이터를 하나의 모델로 학습
   - 평균값 수렴 경향 → 해석력 저하

3. **전체 통합 모델 (행정동별 정규화)**
   - 전체 데이터를 통합하되, target은 행정동별 평균 기준으로 정규화
   - **예측력과 해석력의 균형**이 뛰어남 → 최종 제출 모델 선정

---

### 📏 성능 평가 지표

- **RMSE (Root Mean Squared Error)**: 예측 오차의 크기를 나타냄
- **R² (결정계수)**: 모델 설명력 지표

---

## 📈 주요 결과 요약

- 행정동별 모델은 특성 반영이 뛰어나나 확장성의 한계 존재
- \"행정동별 정규화\" 통합 모델이 가장 안정적 성능 달성
- 문화행사 관련 변수는 정량적 예측 성능 향상에 기여

---

## 💡 분석 인사이트

- 축제/공휴일 변수 → 예측 성능 향상 (특히 무료 행사 영향 큼)
- 기상 변수는 단독 효과는 작지만 다변량 상호작용에서 의미 있음
- 실시간 예측 불가 변수(지하철)는 제거하여 일반화 성능 강화
- 정규화 기준이 예측 구조에 결정적 영향을 미침

---

## 🏛️ 기대 효과 및 활용 방안

- 특정 날짜/지역 생활인구 변화 예측 가능
- 도시 자원 배분, 행사 운영, 상업 전략 등에 활용 가능
- 공공데이터 기반 예측모델의 타 지역 확장 가능성
- SNS, 교통량 등 외부 변수 추가로 정밀도 향상 기대

---

## 🛠️ 한계 및 향후 보완점

본 프로젝트는 다양한 공공데이터를 활용하여 서울시 생활인구를 예측하였으나, 다음과 같은 한계점이 존재합니다.

- **축제·공휴일 등 이벤트 요인 외의 변수 한계**: 기상, 행사, 휴일 등은 반영되었지만, 민간 이벤트, 상권 변화, 온라인 트렌드 등은 반영되지 않음.
- **모델 해석력의 한계**: 통합 모델은 성능은 준수하지만, 서울 전체 지역별 특성을 완벽히 설명하기는 어려움.
- **시간대별 예측 미포함**: 본 분석은 일 단위 예측에 집중했으며, 시간대별 생활인구 패턴은 고려하지 않음.

> 위 한계들을 해결하기 위해선 SNS 트렌드, 유동인구 센서, 민간 위치 기반 서비스 데이터 등을 활용한 보완이 필요합니다.


## ⚙️ 코드 실행 가이드

1. `dataset_with_subway.csv`를 `data/` 디렉토리에 저장
2. `team7_final.ipynb` 실행
   - 전처리 → 모델링 → 결과 시각화 순서로 구성
3. 주요 실행 셀은 코드에 주석으로 안내되어 있음

> 모든 코드는 로컬 Jupyter 환경에서 재현 가능하며, 필요한 라이브러리는 상단 셀에서 설치 안내

---

## ✅ 재현 가능성

본 프로젝트는 공개된 공공데이터 및 코드 기반으로 작성되어  
다른 사용자가 동일한 데이터를 바탕으로 동일한 분석 결과를 재현할 수 있도록 구성되어 있습니다.

- 데이터 출처: 모두 공개된 공공 API 및 서울시 오픈데이터
- 코드 실행 흐름: `team7_update.ipynb` 기준으로 전처리 ~ 예측 전과정 포함

---

## 🔗 원본 데이터 출처

병합에 활용된 공공데이터는 다음과 같습니다 (별도 업로드는 생략):

- 서울시 생활인구 데이터: [data.seoul.go.kr](https://data.seoul.go.kr)
- 기상청 기상자료 개방포털: [data.kma.go.kr](https://data.kma.go.kr)
- 공공 공휴일 API: [data.go.kr](https://www.data.go.kr)
- 서울시 문화행사 데이터: [data.seoul.go.kr](https://data.seoul.go.kr)

## 📌 참고사항

데이터 병합 과정에서는 중간중간 잦은 데이터셋 rename 및 데이터 삭제가 있었으며,  
API 호출과 Kakao Maps 기반 reverse geocoding 과정이 포함되어 러닝타임이 비교적 깁니다.

따라서 전체 병합 과정을 처음부터 재현하기보다는,  
이미 생성된 최종 병합 데이터셋(`data/dataset_with_subway.csv`)을 활용해 분석을 진행하는 것을 권장합니다.


